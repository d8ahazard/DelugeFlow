<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <meta name="color-scheme" content="light dark">
    <title>DelugeFlow Status</title>
    <style>
      * { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; font-size: 12px; }
      body { margin: 0; padding: 10px; color: #333; background: #fff; }
      h4 { margin: 3px 0 5px; padding: 0; }
      #header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
      #title { padding-left: 20px; background: url(images/icon-16.png) 0 0 no-repeat; }
      #options { padding-left: 20px; background: url(images/options-16.png) 0 0 no-repeat; }
      .hidden { display: none; }
      body > div { width: 320px; }
      a { color: #4285f4; text-decoration: none; }
      a:hover { text-decoration: underline; }
      
      /* Server tabs styling */
      .server-tabs {
        display: flex;
        border-bottom: 1px solid #ddd;
        margin-bottom: 10px;
      }
      .server-tab {
        padding: 6px 12px;
        cursor: pointer;
        border: 1px solid transparent;
        border-bottom: none;
        margin-bottom: -1px;
        display: flex;
        align-items: center;
        gap: 8px;
        min-width: 80px;
      }
      .server-tab.active {
        background: #fff;
        border-color: #ddd;
        border-bottom-color: #fff;
      }
      .server-tab .web-ui-link {
        display: inline-block;
        width: 16px;
        height: 16px;
        text-decoration: none;
        text-align: center;
        line-height: 16px;
        opacity: 0.7;
        flex-shrink: 0;
      }
      .server-tab .web-ui-link:hover {
        opacity: 1;
        text-decoration: none;
      }
      .server-tab .server-name {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }
      
      /* Support for dark mode */
      @media (prefers-color-scheme: dark) {
        body { 
          background: #202124; 
          color: #e8eaed; 
        }
        a { 
          color: #8ab4f8; 
        }
        .server-tabs {
          border-bottom-color: #444;
        }
        .server-tab.active {
          background: #202124;
          border-color: #444;
          border-bottom-color: #202124;
        }
      }
    </style>
  </head>
  <body>
    <div>
      <div id="header">
        <div id="title">DelugeFlow</div>
        <div id="options"><a href="options.html" id="opt-link" tabindex="-1" target="_blank">Options</a></div>
      </div>

      <div class="server-tabs" id="server-tabs">
        <!-- Server tabs will be added here dynamically -->
      </div>

      <span id="reminder"></span>
      
      <!-- Server content containers will be added here dynamically -->
      <div id="server-containers"></div>
    </div>
    <script src="lib/logger.js"></script>
    <script src="lib/utils.js"></script>
    <script src="lib/controller_communicator.js"></script>
    <script src="popup.js"></script>
  </body>
</html>
